<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>구독 플랜 - ClassCare 슈퍼어드민</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: { primary: '#D53A6B', secondary: '#3B7DD6' },
            accent: { primary: '#8A38F5', secondary: '#3B67F6' },
            dark: { primary: '#1B1D21', secondary: '#1A1C22', tertiary: '#2B2D35' }
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css">
  <link rel="stylesheet" href="../css/style.css">
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-[#F2F4F6]">

  <!-- Sidebar -->
  <aside id="sidebar" class="fixed left-0 top-0 h-full bg-dark-primary border-r border-gray-800 transition-all duration-300 z-40 w-64"></aside>

  <!-- Main Content -->
  <div id="mainContent" class="transition-all duration-300 lg:ml-64">
    <!-- Header -->
    <div id="header"></div>

    <!-- Page Content -->
    <main class="p-6">
      <!-- Page Title -->
      <div class="flex items-center justify-between mb-6">
        <div>
          <h1 class="text-2xl font-bold text-gray-900">구독 플랜</h1>
          <p class="text-gray-500 mt-1">서비스 요금제와 기능을 설정합니다.</p>
        </div>
        <button onclick="openPriceModal()" class="px-4 py-2.5 bg-purple-600 text-white font-medium rounded-xl hover:bg-purple-700 transition flex items-center gap-2">
          <i data-lucide="settings" class="w-4 h-4"></i>
          요금 설정
        </button>
      </div>

      <!-- Plan Stats -->
      <div class="grid grid-cols-4 gap-4 mb-6">
        <div class="bg-white rounded-xl p-5 border border-gray-100 shadow-sm">
          <div class="flex items-center justify-between mb-2">
            <span class="text-sm text-gray-500">전체 강사</span>
            <i data-lucide="users" class="w-4 h-4 text-gray-400"></i>
          </div>
          <p class="text-2xl font-bold text-gray-900">156명</p>
          <p class="text-xs text-gray-500 mt-1">12개 학원 소속</p>
        </div>
        <div class="bg-white rounded-xl p-5 border border-gray-100 shadow-sm">
          <div class="flex items-center justify-between mb-2">
            <span class="text-sm text-gray-500">체험 중</span>
            <span class="px-2 py-0.5 text-xs font-semibold bg-green-100 text-green-700 rounded-full">무료</span>
          </div>
          <p class="text-2xl font-bold text-green-600">48명</p>
          <p class="text-xs text-gray-500 mt-1">23명 만료 예정 (7일 내)</p>
        </div>
        <div class="bg-white rounded-xl p-5 border border-gray-100 shadow-sm">
          <div class="flex items-center justify-between mb-2">
            <span class="text-sm text-gray-500">유료 구독</span>
            <span class="px-2 py-0.5 text-xs font-semibold bg-purple-100 text-purple-700 rounded-full">활성</span>
          </div>
          <p class="text-2xl font-bold text-purple-600">108명</p>
          <p class="text-xs text-gray-500 mt-1">학원 결제 72명 · 개인 36명</p>
        </div>
        <div class="bg-white rounded-xl p-5 border border-gray-100 shadow-sm">
          <div class="flex items-center justify-between mb-2">
            <span class="text-sm text-gray-500">이번 달 매출</span>
            <i data-lucide="trending-up" class="w-4 h-4 text-green-500"></i>
          </div>
          <p class="text-2xl font-bold text-gray-900">₩432,000</p>
          <p class="text-xs text-green-600 mt-1">+12% vs 지난달</p>
        </div>
      </div>

      <!-- Pricing Structure -->
      <div class="grid lg:grid-cols-3 gap-6 mb-8">
        <!-- 무료 기능 -->
        <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl border-2 border-green-200 shadow-sm overflow-hidden">
          <div class="p-6 border-b border-green-200">
            <div class="flex items-center justify-between mb-4">
              <span class="px-3 py-1 text-sm font-semibold bg-green-500 text-white rounded-lg">무료 (항상)</span>
              <i data-lucide="infinity" class="w-5 h-5 text-green-600"></i>
            </div>
            <div class="mb-2">
              <span class="text-4xl font-bold text-green-700">무제한</span>
            </div>
            <p class="text-sm text-green-600">파일전송, 원격보기는 항상 무료!</p>
          </div>
          <div class="p-6">
            <h4 class="text-sm font-semibold text-green-700 uppercase tracking-wide mb-4">항상 무료 기능</h4>
            <ul class="space-y-3">
              <li class="flex items-center gap-3 text-sm text-green-800 font-medium">
                <i data-lucide="send" class="w-5 h-5 text-green-600"></i>
                파일 전송
              </li>
              <li class="flex items-center gap-3 text-sm text-green-800 font-medium">
                <i data-lucide="monitor" class="w-5 h-5 text-green-600"></i>
                원격 보기
              </li>
            </ul>
            <div class="mt-6 p-4 bg-white/60 rounded-xl">
              <p class="text-xs text-green-700">
                <strong>ClassCare의 핵심 기능</strong>으로 모든 사용자에게 무료로 제공됩니다.
              </p>
            </div>
          </div>
        </div>

        <!-- 체험/유료 플랜 -->
        <div class="bg-white rounded-2xl border-2 border-purple-500 shadow-lg overflow-hidden relative">
          <div class="absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-center text-sm font-semibold py-1">
            기본 요금제
          </div>
          <div class="p-6 border-b border-gray-100 mt-6">
            <div class="flex items-center justify-between mb-4">
              <span class="px-3 py-1 text-sm font-semibold bg-purple-100 text-purple-700 rounded-lg">유료</span>
              <span class="text-sm text-gray-500">108명 구독중</span>
            </div>
            <div class="mb-2">
              <span class="text-4xl font-bold text-gray-900" id="pricePerInstructor">5,000</span>
              <span class="text-gray-500">원/월</span>
            </div>
            <p class="text-sm text-gray-600 mb-3">강사 1인당 월 요금</p>
            <div class="flex gap-2">
              <div class="flex-1 bg-blue-50 rounded-lg px-3 py-2">
                <p class="text-xs text-blue-600 font-medium">학원 결제시</p>
                <p class="text-lg font-bold text-blue-700" id="academyPrice">3,500<span class="text-xs font-normal">원</span></p>
                <p class="text-xs text-blue-500">30% 할인</p>
              </div>
              <div class="flex-1 bg-gray-50 rounded-lg px-3 py-2">
                <p class="text-xs text-gray-600 font-medium">개인 결제시</p>
                <p class="text-lg font-bold text-gray-700" id="individualPrice">5,000<span class="text-xs font-normal">원</span></p>
                <p class="text-xs text-gray-500">정가</p>
              </div>
            </div>
          </div>
          <div class="p-6">
            <h4 class="text-sm font-semibold text-gray-500 uppercase tracking-wide mb-4">유료 기능 (3개월 무료 체험)</h4>
            <ul class="space-y-3">
              <li class="flex items-center gap-3 text-sm text-gray-700">
                <i data-lucide="check" class="w-4 h-4 text-green-500"></i>
                출석 관리
              </li>
              <li class="flex items-center gap-3 text-sm text-gray-700">
                <i data-lucide="check" class="w-4 h-4 text-green-500"></i>
                좌석 배치
              </li>
              <li class="flex items-center gap-3 text-sm text-gray-700">
                <i data-lucide="check" class="w-4 h-4 text-green-500"></i>
                상담 기록
              </li>
              <li class="flex items-center gap-3 text-sm text-gray-700">
                <i data-lucide="check" class="w-4 h-4 text-green-500"></i>
                퀴즈/시험
              </li>
              <li class="flex items-center gap-3 text-sm text-gray-700">
                <i data-lucide="check" class="w-4 h-4 text-green-500"></i>
                그리기 도구
              </li>
              <li class="flex items-center gap-3 text-sm text-purple-700 font-medium">
                <i data-lucide="globe" class="w-4 h-4 text-purple-500"></i>
                온라인 기능
              </li>
              <li class="flex items-center gap-3 text-sm text-purple-700 font-medium">
                <i data-lucide="file-text" class="w-4 h-4 text-purple-500"></i>
                서류 자동생성 (피드백/팀작업)
              </li>
              <li class="flex items-center gap-3 text-sm text-purple-700 font-medium">
                <i data-lucide="move" class="w-4 h-4 text-purple-500"></i>
                자리 이동 시 파일 자동 이동
              </li>
            </ul>
          </div>
        </div>

        <!-- 로고 커스텀 -->
        <div class="bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl shadow-lg overflow-hidden text-white">
          <div class="p-6 border-b border-gray-700">
            <div class="flex items-center justify-between mb-4">
              <span class="px-3 py-1 text-sm font-semibold bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg">로고 커스텀</span>
              <i data-lucide="palette" class="w-5 h-5 text-purple-400"></i>
            </div>
            <div class="mb-2">
              <span class="text-4xl font-bold">30,000</span>
              <span class="text-gray-400">원/월</span>
            </div>
            <p class="text-sm text-gray-400">유료 플랜 + 로고 삽입</p>
          </div>
          <div class="p-6">
            <h4 class="text-sm font-semibold text-gray-400 uppercase tracking-wide mb-4">추가 기능</h4>
            <ul class="space-y-3">
              <li class="flex items-center gap-3 text-sm">
                <i data-lucide="check" class="w-4 h-4 text-green-400"></i>
                유료 플랜 전 기능
              </li>
              <li class="flex items-center gap-3 text-sm text-purple-300 font-medium">
                <i data-lucide="image" class="w-4 h-4 text-purple-400"></i>
                프로그램에 학원 로고 삽입
              </li>
              <li class="flex items-center gap-3 text-sm">
                <i data-lucide="check" class="w-4 h-4 text-green-400"></i>
                학원 브랜드 색상 적용
              </li>
              <li class="flex items-center gap-3 text-sm">
                <i data-lucide="check" class="w-4 h-4 text-green-400"></i>
                맞춤형 학원 이름 표시
              </li>
            </ul>
            <div class="mt-6 p-4 bg-white/10 rounded-xl">
              <p class="text-xs text-gray-300">
                학원의 브랜드 아이덴티티를 ClassCare에 적용하여 전문적인 이미지를 구축하세요.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Pricing Calculator -->
      <div class="bg-white rounded-2xl border border-gray-100 shadow-sm p-6 mb-8">
        <h2 class="text-lg font-bold text-gray-900 mb-4">요금 계산기</h2>
        <div class="grid lg:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">강사 수</label>
            <input type="number" id="calcInstructors" value="10" min="1" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 text-lg font-semibold" oninput="calculatePrice()">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">결제 방식</label>
            <select id="calcPaymentType" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 text-lg font-semibold" onchange="calculatePrice()">
              <option value="academy">학원 통합 결제 (30% 할인)</option>
              <option value="individual">개인 결제</option>
            </select>
          </div>
        </div>
        <div class="mt-4 flex items-center gap-3">
          <input type="checkbox" id="calcLogo" class="w-5 h-5 text-purple-600 rounded" onchange="calculatePrice()">
          <label for="calcLogo" class="text-sm text-gray-700">로고 커스텀 추가 (+30,000원/월)</label>
        </div>
        <div class="mt-6 p-4 bg-purple-50 rounded-xl flex items-center justify-between">
          <div>
            <p class="text-sm text-gray-600">예상 월 요금</p>
            <p class="text-3xl font-bold text-purple-700" id="calcResult">35,000원</p>
          </div>
          <div class="text-right">
            <p class="text-sm text-gray-500" id="calcBreakdown">강사 10명 × 3,500원</p>
          </div>
        </div>
      </div>

      <!-- Feature Matrix -->
      <div class="bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden">
        <div class="p-5 border-b border-gray-100">
          <h2 class="text-lg font-bold text-gray-900">기능 비교표</h2>
        </div>
        <div class="overflow-x-auto">
          <table class="w-full">
            <thead class="bg-gray-50 border-b border-gray-200">
              <tr>
                <th class="text-left px-6 py-4 text-sm font-semibold text-gray-600">기능</th>
                <th class="text-center px-6 py-4 text-sm font-semibold text-green-600">무료 (항상)</th>
                <th class="text-center px-6 py-4 text-sm font-semibold text-blue-600">체험 (3개월)</th>
                <th class="text-center px-6 py-4 text-sm font-semibold text-purple-600">유료</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-100">
              <tr class="hover:bg-green-50 bg-green-50/50">
                <td class="px-6 py-4 text-sm text-green-800 font-medium">파일 전송</td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mx-auto"></i></td>
              </tr>
              <tr class="hover:bg-green-50 bg-green-50/50">
                <td class="px-6 py-4 text-sm text-green-800 font-medium">원격 보기</td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mx-auto"></i></td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 text-sm text-gray-900 font-medium">출석 관리</td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-blue-500 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-purple-500 mx-auto"></i></td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 text-sm text-gray-900 font-medium">좌석 배치</td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-blue-500 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-purple-500 mx-auto"></i></td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 text-sm text-gray-900 font-medium">상담 기록</td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-blue-500 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-purple-500 mx-auto"></i></td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 text-sm text-gray-900 font-medium">퀴즈/시험</td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-blue-500 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-purple-500 mx-auto"></i></td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 text-sm text-gray-900 font-medium">그리기 도구</td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-blue-500 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-purple-500 mx-auto"></i></td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 text-sm text-gray-900 font-medium">온라인 기능</td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-purple-500 mx-auto"></i></td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 text-sm text-gray-900 font-medium">서류 자동생성 (피드백/팀작업)</td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-purple-500 mx-auto"></i></td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 text-sm text-gray-900 font-medium">자리 이동 시 파일 자동 이동</td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="check" class="w-5 h-5 text-purple-500 mx-auto"></i></td>
              </tr>
              <tr class="hover:bg-gray-50 bg-gray-50">
                <td class="px-6 py-4 text-sm text-gray-900 font-medium">로고 커스텀</td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><i data-lucide="x" class="w-5 h-5 text-gray-300 mx-auto"></i></td>
                <td class="px-6 py-4 text-center"><span class="text-xs text-purple-600 font-medium">+30,000원</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- 체험 정책 안내 -->
      <div class="mt-6 bg-blue-50 rounded-2xl p-6 border border-blue-200">
        <div class="flex items-start gap-4">
          <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0">
            <i data-lucide="gift" class="w-6 h-6 text-blue-600"></i>
          </div>
          <div>
            <h3 class="font-semibold text-blue-900 mb-1">3개월 무료 체험</h3>
            <p class="text-sm text-blue-700 mb-2">
              신규 강사는 <strong>3개월간 무료</strong>로 출석관리, 좌석배치, 상담기록, 퀴즈/시험, 그리기 도구를 체험할 수 있습니다.
            </p>
            <p class="text-sm text-blue-600">
              <strong>파일 전송</strong>과 <strong>원격 보기</strong>는 항상 무료입니다. 체험 기간 종료 후 유료 전환하시면 온라인 기능까지 사용 가능합니다.
            </p>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Price Settings Modal -->
  <div id="priceModal" class="fixed inset-0 bg-black/50 z-50 hidden items-center justify-center p-4">
    <div class="bg-white rounded-2xl max-w-md w-full">
      <div class="p-6 border-b border-gray-100 flex items-center justify-between">
        <h2 class="text-xl font-bold text-gray-900">요금 설정</h2>
        <button onclick="closePriceModal()" class="p-2 hover:bg-gray-100 rounded-lg transition">
          <i data-lucide="x" class="w-5 h-5 text-gray-500"></i>
        </button>
      </div>
      <div class="p-6 space-y-6">
        <!-- 강사당 월 요금 -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">강사당 월 요금</label>
          <div class="relative">
            <input type="number" id="priceInput" value="5000" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 text-lg font-semibold">
            <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-500">원/월</span>
          </div>
          <p class="text-xs text-gray-500 mt-1">개인 결제 기준 (학원 결제시 30% 할인 자동 적용)</p>
        </div>

        <!-- 학원 할인율 -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">학원 결제 할인율</label>
          <div class="relative">
            <input type="number" id="discountInput" value="30" min="0" max="50" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 text-lg font-semibold">
            <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-500">%</span>
          </div>
          <p class="text-xs text-gray-500 mt-1">학원이 통합 결제시 적용되는 할인율</p>
        </div>

        <!-- 로고 커스텀 요금 -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">로고 커스텀 추가 요금</label>
          <div class="relative">
            <input type="number" id="logoInput" value="30000" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 text-lg font-semibold">
            <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-500">원/월</span>
          </div>
          <p class="text-xs text-gray-500 mt-1">프로그램에 학원 로고 삽입시 추가 요금</p>
        </div>

        <!-- 무료 체험 기간 -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">무료 체험 기간</label>
          <div class="relative">
            <select id="trialInput" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 text-lg font-semibold appearance-none">
              <option value="1">1개월</option>
              <option value="2">2개월</option>
              <option value="3" selected>3개월</option>
              <option value="6">6개월</option>
            </select>
            <i data-lucide="chevron-down" class="w-5 h-5 text-gray-400 absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none"></i>
          </div>
        </div>
      </div>
      <div class="p-6 border-t border-gray-100 flex gap-3">
        <button onclick="closePriceModal()" class="flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-xl transition">
          취소
        </button>
        <button onclick="savePriceSettings()" class="flex-1 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-xl transition">
          저장
        </button>
      </div>
    </div>
  </div>

  <script src="../js/admin-common.js"></script>
  <script>
    // 요금 계산
    function calculatePrice() {
      const instructors = parseInt(document.getElementById('calcInstructors').value) || 0;
      const paymentType = document.getElementById('calcPaymentType').value;
      const addLogo = document.getElementById('calcLogo').checked;

      const basePrice = 5000;
      const discount = paymentType === 'academy' ? 0.3 : 0;
      const pricePerPerson = basePrice * (1 - discount);
      const logoPrice = addLogo ? 30000 : 0;

      const total = (instructors * pricePerPerson) + logoPrice;

      document.getElementById('calcResult').textContent = formatNumber(total) + '원';

      let breakdown = `강사 ${instructors}명 × ${formatNumber(pricePerPerson)}원`;
      if (addLogo) breakdown += ' + 로고 30,000원';
      document.getElementById('calcBreakdown').textContent = breakdown;
    }

    // 모달 열기
    function openPriceModal() {
      document.getElementById('priceModal').classList.remove('hidden');
      document.getElementById('priceModal').classList.add('flex');
      lucide.createIcons();
    }

    // 모달 닫기
    function closePriceModal() {
      document.getElementById('priceModal').classList.add('hidden');
      document.getElementById('priceModal').classList.remove('flex');
    }

    // 모달 외부 클릭시 닫기
    document.getElementById('priceModal').addEventListener('click', function(e) {
      if (e.target === this) closePriceModal();
    });

    // 가격 설정 저장
    function savePriceSettings() {
      const price = document.getElementById('priceInput').value;
      const discount = document.getElementById('discountInput').value;
      const logo = document.getElementById('logoInput').value;
      const trial = document.getElementById('trialInput').value;

      const academyPrice = Math.round(price * (1 - discount / 100));

      // 화면에 반영
      document.getElementById('pricePerInstructor').textContent = formatNumber(price);
      document.getElementById('academyPrice').innerHTML = formatNumber(academyPrice) + '<span class="text-xs font-normal">원</span>';
      document.getElementById('individualPrice').innerHTML = formatNumber(price) + '<span class="text-xs font-normal">원</span>';

      alert(`설정이 저장되었습니다.\n\n강사당 요금: ${formatNumber(price)}원/월\n학원 할인: ${discount}% (${formatNumber(academyPrice)}원)\n로고 커스텀: +${formatNumber(logo)}원/월\n무료 체험: ${trial}개월`);

      closePriceModal();
      calculatePrice();
    }

    // 초기 계산
    calculatePrice();
    lucide.createIcons();
  </script>
</body>
</html>
