<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#F2F4F6">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <title>ì¶œì„ ê´€ë¦¬ - ClassCare</title>
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-[#F2F4F6] min-h-screen safe-top">

  <!-- Header -->
  <header class="app-header safe-top">
    <div class="flex items-center gap-4">
      <a href="dashboard.html" class="p-2 -ml-2 rounded-lg hover:bg-gray-100">
        <i data-lucide="arrow-left" class="w-6 h-6 text-gray-600"></i>
      </a>
      <h1 class="text-xl font-bold text-gray-900">ì¶œì„ ê´€ë¦¬</h1>
    </div>
  </header>

  <!-- Page Content -->
  <main class="page-content">
    <!-- Date Selector -->
    <div class="card flex items-center justify-between mb-4">
      <button class="p-2 rounded-lg hover:bg-gray-100" id="prevDate">
        <i data-lucide="chevron-left" class="w-5 h-5 text-gray-600"></i>
      </button>
      <div class="text-center">
        <p class="text-sm text-gray-500">ì¶œì„ í˜„í™©</p>
        <p class="font-bold text-gray-900" id="currentDate">2024ë…„ 12ì›” 21ì¼ (í† )</p>
      </div>
      <button class="p-2 rounded-lg hover:bg-gray-100" id="nextDate">
        <i data-lucide="chevron-right" class="w-5 h-5 text-gray-600"></i>
      </button>
    </div>

    <!-- Attendance Summary -->
    <div class="grid grid-cols-3 gap-3 mb-6">
      <div class="card text-center py-4">
        <div class="w-10 h-10 mx-auto mb-2 rounded-full bg-green-100 flex items-center justify-center">
          <i data-lucide="check" class="w-5 h-5 text-green-600"></i>
        </div>
        <p class="text-2xl font-bold text-green-600">24</p>
        <p class="text-xs text-gray-500">ì¶œì„</p>
      </div>
      <div class="card text-center py-4">
        <div class="w-10 h-10 mx-auto mb-2 rounded-full bg-yellow-100 flex items-center justify-center">
          <i data-lucide="clock" class="w-5 h-5 text-yellow-600"></i>
        </div>
        <p class="text-2xl font-bold text-yellow-600">2</p>
        <p class="text-xs text-gray-500">ì§€ê°</p>
      </div>
      <div class="card text-center py-4">
        <div class="w-10 h-10 mx-auto mb-2 rounded-full bg-red-100 flex items-center justify-center">
          <i data-lucide="x" class="w-5 h-5 text-red-600"></i>
        </div>
        <p class="text-2xl font-bold text-red-600">2</p>
        <p class="text-xs text-gray-500">ê²°ì„</p>
      </div>
    </div>

    <!-- Class Filter -->
    <div class="tabs mb-4">
      <button class="tab active" data-class="all">ì „ì²´</button>
      <button class="tab" data-class="a">Aë°˜</button>
      <button class="tab" data-class="b">Bë°˜</button>
      <button class="tab" data-class="c">Cë°˜</button>
    </div>

    <!-- Search -->
    <div class="search-bar">
      <i data-lucide="search" class="w-5 h-5"></i>
      <input type="text" placeholder="í•™ìƒ ê²€ìƒ‰..." id="searchInput">
    </div>

    <!-- Student List -->
    <section>
      <div class="flex items-center justify-between mb-3">
        <h3 class="text-lg font-bold text-gray-900">í•™ìƒ ëª©ë¡</h3>
        <span class="text-sm text-gray-500">28ëª…</span>
      </div>

      <div class="card p-0 overflow-hidden" id="studentList">
        <!-- Python ê¸°ì´ˆë°˜ -->
        <div class="px-4 py-2 bg-gray-50 border-b border-gray-200">
          <p class="text-sm font-semibold text-gray-600">ğŸ–¥ï¸ Python ê¸°ì´ˆë°˜</p>
        </div>
        <div class="list-item">
          <div class="avatar mr-3">ê¹€</div>
          <div class="flex-1">
            <p class="font-medium text-gray-900">ê¹€ë¯¼ì¤€</p>
            <p class="text-sm text-gray-500">10:02 ì¶œì„</p>
          </div>
          <span class="badge badge-success">ì¶œì„</span>
        </div>
        <div class="list-item">
          <div class="avatar mr-3 bg-gradient-to-br from-blue-500 to-cyan-500">ì´</div>
          <div class="flex-1">
            <p class="font-medium text-gray-900">ì´ì„œì—°</p>
            <p class="text-sm text-gray-500">10:00 ì¶œì„</p>
          </div>
          <span class="badge badge-success">ì¶œì„</span>
        </div>
        <div class="list-item">
          <div class="avatar mr-3 bg-gradient-to-br from-orange-500 to-red-500">ë°•</div>
          <div class="flex-1">
            <p class="font-medium text-gray-900">ë°•ì§€í˜¸</p>
            <p class="text-sm text-gray-500">10:15 ì…ì‹¤</p>
          </div>
          <span class="badge badge-warning">ì§€ê°</span>
        </div>
        <div class="list-item">
          <div class="avatar mr-3 bg-gradient-to-br from-green-500 to-teal-500">ìµœ</div>
          <div class="flex-1">
            <p class="font-medium text-gray-900">ìµœìˆ˜ì•„</p>
            <p class="text-sm text-gray-500">ë¯¸ì¶œì„</p>
          </div>
          <span class="badge badge-error">ê²°ì„</span>
        </div>

        <!-- ê²Œì„ê°œë°œ ì‹¬í™” -->
        <div class="px-4 py-2 bg-gray-50 border-b border-t border-gray-200">
          <p class="text-sm font-semibold text-gray-600">ğŸ® ê²Œì„ê°œë°œ ì‹¬í™”</p>
        </div>
        <div class="list-item">
          <div class="avatar mr-3 bg-gradient-to-br from-indigo-500 to-purple-500">ì •</div>
          <div class="flex-1">
            <p class="font-medium text-gray-900">ì •ë„ìœ¤</p>
            <p class="text-sm text-gray-500">14:00 ì¶œì„</p>
          </div>
          <span class="badge badge-success">ì¶œì„</span>
        </div>
        <div class="list-item">
          <div class="avatar mr-3 bg-gradient-to-br from-pink-500 to-rose-500">ê°•</div>
          <div class="flex-1">
            <p class="font-medium text-gray-900">ê°•í•˜ì€</p>
            <p class="text-sm text-gray-500">14:01 ì¶œì„</p>
          </div>
          <span class="badge badge-success">ì¶œì„</span>
        </div>
        <div class="list-item">
          <div class="avatar mr-3 bg-gradient-to-br from-amber-500 to-orange-500">ìœ¤</div>
          <div class="flex-1">
            <p class="font-medium text-gray-900">ìœ¤ì¤€ìš°</p>
            <p class="text-sm text-gray-500">14:00 ì¶œì„</p>
          </div>
          <span class="badge badge-success">ì¶œì„</span>
        </div>
      </div>
    </section>

    <!-- Attendance Rate -->
    <section class="mt-6">
      <h3 class="text-lg font-bold text-gray-900 mb-3">ì´ë²ˆ ì£¼ ì¶œì„ë¥ </h3>
      <div class="card">
        <div class="flex items-center justify-between mb-2">
          <span class="text-sm text-gray-600">ì „ì²´ ì¶œì„ë¥ </span>
          <span class="font-bold text-purple-600">92%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill bg-purple-500" style="width: 92%"></div>
        </div>
        <div class="grid grid-cols-5 gap-2 mt-4 text-center">
          <div>
            <p class="text-xs text-gray-500">ì›”</p>
            <p class="text-sm font-bold text-green-600">95%</p>
          </div>
          <div>
            <p class="text-xs text-gray-500">í™”</p>
            <p class="text-sm font-bold text-green-600">90%</p>
          </div>
          <div>
            <p class="text-xs text-gray-500">ìˆ˜</p>
            <p class="text-sm font-bold text-yellow-600">88%</p>
          </div>
          <div>
            <p class="text-xs text-gray-500">ëª©</p>
            <p class="text-sm font-bold text-green-600">95%</p>
          </div>
          <div>
            <p class="text-xs text-gray-500">ê¸ˆ</p>
            <p class="text-sm font-bold text-green-600">92%</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Bottom Navigation -->
  <nav id="bottomNav" class="bottom-nav safe-bottom"></nav>

  <script src="js/app.js"></script>
  <script>
    // Check authentication
    if (!isAuthenticated()) {
      window.location.href = 'login.html';
    }

    // Set current date
    const today = new Date();
    document.getElementById('currentDate').textContent = today.toLocaleDateString('ko-KR', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      weekday: 'short'
    });

    // Tab switching
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', function() {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        // Filter logic would go here
      });
    });

    // Date navigation
    let currentDate = new Date();

    document.getElementById('prevDate').addEventListener('click', () => {
      currentDate.setDate(currentDate.getDate() - 1);
      updateDateDisplay();
    });

    document.getElementById('nextDate').addEventListener('click', () => {
      currentDate.setDate(currentDate.getDate() + 1);
      updateDateDisplay();
    });

    function updateDateDisplay() {
      document.getElementById('currentDate').textContent = currentDate.toLocaleDateString('ko-KR', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        weekday: 'short'
      });
    }

    // Render bottom navigation
    renderBottomNav('attendance');

    lucide.createIcons();
  </script>
</body>
</html>
