<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#F2F4F6">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <title>피드백 - ClassCare</title>
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-[#F2F4F6] min-h-screen safe-top">

  <!-- Header -->
  <header class="app-header safe-top">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-4">
        <a href="dashboard.html" class="p-2 -ml-2 rounded-lg hover:bg-gray-100">
          <i data-lucide="arrow-left" class="w-6 h-6 text-gray-600"></i>
        </a>
        <h1 class="text-xl font-bold text-gray-900">피드백</h1>
      </div>
      <button class="p-2 rounded-lg bg-purple-600 text-white" id="addBtn">
        <i data-lucide="plus" class="w-5 h-5"></i>
      </button>
    </div>
  </header>

  <!-- Page Content -->
  <main class="page-content">
    <!-- Summary -->
    <div class="card bg-gradient-to-r from-purple-600 to-pink-500 text-white mb-6">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-purple-100 text-sm">이번 주 피드백</p>
          <p class="text-3xl font-bold">28건</p>
        </div>
        <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center">
          <i data-lucide="file-text" class="w-8 h-8"></i>
        </div>
      </div>
      <div class="mt-4 pt-4 border-t border-white/20 flex justify-between text-sm">
        <div>
          <p class="text-purple-100">퀴즈</p>
          <p class="font-bold">12건</p>
        </div>
        <div>
          <p class="text-purple-100">과제</p>
          <p class="font-bold">10건</p>
        </div>
        <div>
          <p class="text-purple-100">실습</p>
          <p class="font-bold">6건</p>
        </div>
      </div>
    </div>

    <!-- Filter Tabs -->
    <div class="tabs mb-4">
      <button class="tab active" data-filter="all">전체</button>
      <button class="tab" data-filter="quiz">퀴즈</button>
      <button class="tab" data-filter="assignment">과제</button>
      <button class="tab" data-filter="practice">실습</button>
    </div>

    <!-- Search -->
    <div class="search-bar">
      <i data-lucide="search" class="w-5 h-5"></i>
      <input type="text" placeholder="학생 검색..." id="searchInput">
    </div>

    <!-- Feedback List -->
    <section>
      <div class="flex items-center justify-between mb-3">
        <h3 class="text-lg font-bold text-gray-900">최근 피드백</h3>
        <button class="text-sm text-purple-600 font-medium flex items-center gap-1">
          <i data-lucide="download" class="w-4 h-4"></i>
          서류 생성
        </button>
      </div>

      <div class="space-y-3">
        <!-- Feedback Item 1 -->
        <div class="card">
          <div class="flex items-start justify-between mb-3">
            <div class="flex items-center gap-3">
              <div class="avatar">김</div>
              <div>
                <p class="font-semibold text-gray-900">김민준</p>
                <p class="text-sm text-gray-500">Python 기초반</p>
              </div>
            </div>
            <span class="badge badge-info">퀴즈</span>
          </div>
          <div class="bg-gray-50 rounded-xl p-3 mb-3">
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm text-gray-600">Python 변수와 자료형</span>
              <span class="text-lg font-bold text-green-600">85점</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill bg-green-500" style="width: 85%"></div>
            </div>
          </div>
          <p class="text-sm text-gray-600 mb-2">
            변수 개념을 잘 이해하고 있습니다. 자료형 변환 부분 추가 학습 권장합니다.
          </p>
          <div class="flex items-center justify-between text-xs text-gray-400">
            <span>오늘 11:30</span>
            <button class="text-purple-600 font-medium">상세보기</button>
          </div>
        </div>

        <!-- Feedback Item 2 -->
        <div class="card">
          <div class="flex items-start justify-between mb-3">
            <div class="flex items-center gap-3">
              <div class="avatar bg-gradient-to-br from-blue-500 to-cyan-500">이</div>
              <div>
                <p class="font-semibold text-gray-900">이서연</p>
                <p class="text-sm text-gray-500">게임개발 심화</p>
              </div>
            </div>
            <span class="badge badge-success">과제</span>
          </div>
          <div class="bg-gray-50 rounded-xl p-3 mb-3">
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm text-gray-600">2D 게임 캐릭터 구현</span>
              <span class="text-lg font-bold text-green-600">92점</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill bg-green-500" style="width: 92%"></div>
            </div>
          </div>
          <p class="text-sm text-gray-600 mb-2">
            창의적인 캐릭터 디자인! 애니메이션 구현이 매우 자연스럽습니다. 우수작으로 선정합니다.
          </p>
          <div class="flex items-center justify-between text-xs text-gray-400">
            <span>어제 15:20</span>
            <button class="text-purple-600 font-medium">상세보기</button>
          </div>
        </div>

        <!-- Feedback Item 3 -->
        <div class="card">
          <div class="flex items-start justify-between mb-3">
            <div class="flex items-center gap-3">
              <div class="avatar bg-gradient-to-br from-orange-500 to-red-500">박</div>
              <div>
                <p class="font-semibold text-gray-900">박지호</p>
                <p class="text-sm text-gray-500">Python 기초반</p>
              </div>
            </div>
            <span class="badge badge-purple">실습</span>
          </div>
          <div class="bg-gray-50 rounded-xl p-3 mb-3">
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm text-gray-600">계산기 프로그램 만들기</span>
              <span class="text-lg font-bold text-yellow-600">78점</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill bg-yellow-500" style="width: 78%"></div>
            </div>
          </div>
          <p class="text-sm text-gray-600 mb-2">
            기본 기능은 잘 구현했습니다. 예외 처리와 코드 정리가 필요합니다.
          </p>
          <div class="flex items-center justify-between text-xs text-gray-400">
            <span>12월 19일</span>
            <button class="text-purple-600 font-medium">상세보기</button>
          </div>
        </div>

        <!-- Feedback Item 4 -->
        <div class="card">
          <div class="flex items-start justify-between mb-3">
            <div class="flex items-center gap-3">
              <div class="avatar bg-gradient-to-br from-green-500 to-teal-500">최</div>
              <div>
                <p class="font-semibold text-gray-900">최수아</p>
                <p class="text-sm text-gray-500">AI/ML 입문</p>
              </div>
            </div>
            <span class="badge badge-info">퀴즈</span>
          </div>
          <div class="bg-gray-50 rounded-xl p-3 mb-3">
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm text-gray-600">머신러닝 기초 개념</span>
              <span class="text-lg font-bold text-green-600">95점</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill bg-green-500" style="width: 95%"></div>
            </div>
          </div>
          <p class="text-sm text-gray-600 mb-2">
            훌륭합니다! 머신러닝 개념을 완벽하게 이해하고 있습니다. 심화 과정 추천합니다.
          </p>
          <div class="flex items-center justify-between text-xs text-gray-400">
            <span>12월 18일</span>
            <button class="text-purple-600 font-medium">상세보기</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Generate Report Button -->
    <div class="mt-6">
      <button class="btn btn-primary btn-block" id="generateReport">
        <i data-lucide="file-text" class="w-5 h-5"></i>
        피드백 보고서 생성
      </button>
      <p class="text-xs text-center text-gray-500 mt-2">
        선택한 피드백을 PDF/Word 문서로 생성합니다
      </p>
    </div>
  </main>

  <!-- Bottom Navigation -->
  <nav id="bottomNav" class="bottom-nav safe-bottom"></nav>

  <script src="js/app.js"></script>
  <script>
    // Check authentication
    if (!isAuthenticated()) {
      window.location.href = 'login.html';
    }

    // Tab switching
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', function() {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');
      });
    });

    // Add feedback
    document.getElementById('addBtn').addEventListener('click', () => {
      showToast('피드백 추가 기능은 준비 중입니다.', 'info');
    });

    // Generate report
    document.getElementById('generateReport').addEventListener('click', () => {
      showToast('보고서 생성 기능은 유료 플랜에서 사용 가능합니다.', 'info');
    });

    // Render bottom navigation
    renderBottomNav('feedback');

    lucide.createIcons();
  </script>
</body>
</html>
